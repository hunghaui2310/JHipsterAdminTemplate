{"remainingRequest":"/home/hungnn/Documents/angular/dashboard/node_modules/thread-loader/dist/cjs.js??ref--10-2!/home/hungnn/Documents/angular/dashboard/node_modules/ts-loader/index.js??ref--10-3!/home/hungnn/Documents/angular/dashboard/node_modules/angular-router-loader/src/index.js!/home/hungnn/Documents/angular/dashboard/node_modules/tslint-loader/index.js!/home/hungnn/Documents/angular/dashboard/src/main/webapp/app/ngx-admin/pages/e-commerce/traffic-reveal-card/traffic-reveal-card.component.ts","dependencies":[{"path":"/home/hungnn/Documents/angular/dashboard/src/main/webapp/app/ngx-admin/pages/e-commerce/traffic-reveal-card/traffic-reveal-card.component.ts","mtime":1593660862960},{"path":"/home/hungnn/Documents/angular/dashboard/node_modules/angular2-template-loader/index.js","mtime":1486570058000},{"path":"/home/hungnn/Documents/angular/dashboard/node_modules/cache-loader/dist/cjs.js","mtime":1593666990470},{"path":"/home/hungnn/Documents/angular/dashboard/node_modules/thread-loader/dist/cjs.js","mtime":1593666988914},{"path":"/home/hungnn/Documents/angular/dashboard/node_modules/ts-loader/index.js","mtime":1519365772000},{"path":"/home/hungnn/Documents/angular/dashboard/node_modules/angular-router-loader/src/index.js","mtime":1512749902000},{"path":"/home/hungnn/Documents/angular/dashboard/node_modules/tslint-loader/index.js","mtime":1519899048000}],"contextDependencies":[],"result":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar core_1 = require(\"@angular/core\");\nvar traffic_list_service_1 = require(\"../../../@core/data/traffic-list.service\");\nvar operators_1 = require(\"rxjs/operators\");\nvar traffic_bar_service_1 = require(\"../../../@core/data/traffic-bar.service\");\nvar TrafficRevealCardComponent = /** @class */ (function () {\n    function TrafficRevealCardComponent(trafficListService, trafficBarService) {\n        this.trafficListService = trafficListService;\n        this.trafficBarService = trafficBarService;\n        this.alive = true;\n        this.revealed = false;\n        this.period = 'week';\n        this.getTrafficFrontCardData(this.period);\n        this.getTrafficBackCardData(this.period);\n    }\n    TrafficRevealCardComponent.prototype.toggleView = function () {\n        this.revealed = !this.revealed;\n    };\n    TrafficRevealCardComponent.prototype.setPeriod = function (value) {\n        this.getTrafficFrontCardData(value);\n        this.getTrafficBackCardData(value);\n    };\n    TrafficRevealCardComponent.prototype.getTrafficBackCardData = function (period) {\n        var _this = this;\n        this.trafficBarService\n            .getTrafficBarData(period)\n            .pipe(operators_1.takeWhile(function () { return _this.alive; }))\n            .subscribe(function (trafficBarData) {\n            _this.trafficBarData = trafficBarData;\n        });\n    };\n    TrafficRevealCardComponent.prototype.getTrafficFrontCardData = function (period) {\n        var _this = this;\n        this.trafficListService\n            .getTrafficListData(period)\n            .pipe(operators_1.takeWhile(function () { return _this.alive; }))\n            .subscribe(function (trafficListData) {\n            _this.trafficListData = trafficListData;\n        });\n    };\n    TrafficRevealCardComponent.prototype.ngOnDestroy = function () {\n        this.alive = false;\n    };\n    var _a, _b;\n    TrafficRevealCardComponent = tslib_1.__decorate([\n        core_1.Component({\n            selector: 'ngx-traffic-reveal-card',\n            styleUrls: ['./traffic-reveal-card.component.scss'],\n            templateUrl: './traffic-reveal-card.component.html'\n        }),\n        tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof traffic_list_service_1.TrafficListService !== \"undefined\" && traffic_list_service_1.TrafficListService) === \"function\" ? _a : Object, typeof (_b = typeof traffic_bar_service_1.TrafficBarService !== \"undefined\" && traffic_bar_service_1.TrafficBarService) === \"function\" ? _b : Object])\n    ], TrafficRevealCardComponent);\n    return TrafficRevealCardComponent;\n}());\nexports.TrafficRevealCardComponent = TrafficRevealCardComponent;\n",{"version":3,"file":"/home/hungnn/Documents/angular/dashboard/src/main/webapp/app/ngx-admin/pages/e-commerce/traffic-reveal-card/traffic-reveal-card.component.ts","sourceRoot":"","sources":["/home/hungnn/Documents/angular/dashboard/node_modules/angular-router-loader/src/index.js!/home/hungnn/Documents/angular/dashboard/node_modules/tslint-loader/index.js!/home/hungnn/Documents/angular/dashboard/src/main/webapp/app/ngx-admin/pages/e-commerce/traffic-reveal-card/traffic-reveal-card.component.ts"],"names":[],"mappings":";;;AAAA,sCAAqD;AACrD,iFAA2F;AAC3F,4CAA2C;AAC3C,+EAAwF;AAOxF;IAQI,oCAAoB,kBAAsC,EAAU,iBAAoC;QAApF,uBAAkB,GAAlB,kBAAkB,CAAoB;QAAU,sBAAiB,GAAjB,iBAAiB,CAAmB;QAPhG,UAAK,GAAG,IAAI,CAAC;QAIrB,aAAQ,GAAG,KAAK,CAAC;QACjB,WAAM,GAAW,MAAM,CAAC;QAGpB,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC1C,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC7C,CAAC;IAED,+CAAU,GAAV;QACI,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC;IACnC,CAAC;IAED,8CAAS,GAAT,UAAU,KAAa;QACnB,IAAI,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QACpC,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC;IACvC,CAAC;IAED,2DAAsB,GAAtB,UAAuB,MAAc;QAArC,iBAOC;QANG,IAAI,CAAC,iBAAiB;aACjB,iBAAiB,CAAC,MAAM,CAAC;aACzB,IAAI,CAAC,qBAAS,CAAC,cAAM,OAAA,KAAI,CAAC,KAAK,EAAV,CAAU,CAAC,CAAC;aACjC,SAAS,CAAC,UAAA,cAAc;YACrB,KAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACzC,CAAC,CAAC,CAAC;IACX,CAAC;IAED,4DAAuB,GAAvB,UAAwB,MAAc;QAAtC,iBAOC;QANG,IAAI,CAAC,kBAAkB;aAClB,kBAAkB,CAAC,MAAM,CAAC;aAC1B,IAAI,CAAC,qBAAS,CAAC,cAAM,OAAA,KAAI,CAAC,KAAK,EAAV,CAAU,CAAC,CAAC;aACjC,SAAS,CAAC,UAAA,eAAe;YACtB,KAAI,CAAC,eAAe,GAAG,eAAe,CAAC;QAC3C,CAAC,CAAC,CAAC;IACX,CAAC;IAED,gDAAW,GAAX;QACI,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACvB,CAAC;;IA1CQ,0BAA0B;QALtC,gBAAS,CAAC;YACP,QAAQ,EAAE,yBAAyB;YACnC,SAAS,EAAE,CAAC,sCAAsC,CAAC;YACnD,WAAW,EAAE,sCAAsC;SACtD,CAAC;qEAS0C,yCAAkB,oBAAlB,yCAAkB,oDAA6B,uCAAiB,oBAAjB,uCAAiB;OAR/F,0BAA0B,CA2CtC;IAAD,iCAAC;CAAA,AA3CD,IA2CC;AA3CY,gEAA0B","sourcesContent":["import { Component, OnDestroy } from '@angular/core';\nimport { TrafficList, TrafficListService } from '../../../@core/data/traffic-list.service';\nimport { takeWhile } from 'rxjs/operators';\nimport { TrafficBar, TrafficBarService } from '../../../@core/data/traffic-bar.service';\n\n@Component({\n    selector: 'ngx-traffic-reveal-card',\n    styleUrls: ['./traffic-reveal-card.component.scss'],\n    templateUrl: './traffic-reveal-card.component.html'\n})\nexport class TrafficRevealCardComponent implements OnDestroy {\n    private alive = true;\n\n    trafficBarData: TrafficBar;\n    trafficListData: TrafficList;\n    revealed = false;\n    period: string = 'week';\n\n    constructor(private trafficListService: TrafficListService, private trafficBarService: TrafficBarService) {\n        this.getTrafficFrontCardData(this.period);\n        this.getTrafficBackCardData(this.period);\n    }\n\n    toggleView() {\n        this.revealed = !this.revealed;\n    }\n\n    setPeriod(value: string): void {\n        this.getTrafficFrontCardData(value);\n        this.getTrafficBackCardData(value);\n    }\n\n    getTrafficBackCardData(period: string) {\n        this.trafficBarService\n            .getTrafficBarData(period)\n            .pipe(takeWhile(() => this.alive))\n            .subscribe(trafficBarData => {\n                this.trafficBarData = trafficBarData;\n            });\n    }\n\n    getTrafficFrontCardData(period: string) {\n        this.trafficListService\n            .getTrafficListData(period)\n            .pipe(takeWhile(() => this.alive))\n            .subscribe(trafficListData => {\n                this.trafficListData = trafficListData;\n            });\n    }\n\n    ngOnDestroy() {\n        this.alive = false;\n    }\n}\n"]}]}