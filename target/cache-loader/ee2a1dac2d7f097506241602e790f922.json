{"remainingRequest":"/home/hungnn/Documents/angular/dashboard/node_modules/thread-loader/dist/cjs.js??ref--10-2!/home/hungnn/Documents/angular/dashboard/node_modules/ts-loader/index.js??ref--10-3!/home/hungnn/Documents/angular/dashboard/node_modules/angular-router-loader/src/index.js!/home/hungnn/Documents/angular/dashboard/node_modules/tslint-loader/index.js!/home/hungnn/Documents/angular/dashboard/src/main/webapp/app/ngx-admin/pages/dashboard/rooms/player/player.component.ts","dependencies":[{"path":"/home/hungnn/Documents/angular/dashboard/src/main/webapp/app/ngx-admin/pages/dashboard/rooms/player/player.component.ts","mtime":1593660862952},{"path":"/home/hungnn/Documents/angular/dashboard/node_modules/angular2-template-loader/index.js","mtime":1486570058000},{"path":"/home/hungnn/Documents/angular/dashboard/node_modules/cache-loader/dist/cjs.js","mtime":1593666990470},{"path":"/home/hungnn/Documents/angular/dashboard/node_modules/thread-loader/dist/cjs.js","mtime":1593666988914},{"path":"/home/hungnn/Documents/angular/dashboard/node_modules/ts-loader/index.js","mtime":1519365772000},{"path":"/home/hungnn/Documents/angular/dashboard/node_modules/angular-router-loader/src/index.js","mtime":1512749902000},{"path":"/home/hungnn/Documents/angular/dashboard/node_modules/tslint-loader/index.js","mtime":1519899048000}],"contextDependencies":[],"result":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar core_1 = require(\"@angular/core\");\nvar player_service_1 = require(\"../../../../@core/data/player.service\");\nvar PlayerComponent = /** @class */ (function () {\n    function PlayerComponent(playerService) {\n        this.playerService = playerService;\n        this.track = this.playerService.random();\n        this.createPlayer();\n    }\n    PlayerComponent.prototype.ngOnDestroy = function () {\n        this.player.pause();\n        this.player.src = '';\n        this.player.load();\n    };\n    PlayerComponent.prototype.prev = function () {\n        if (!this.player.loop) {\n            if (this.shuffle) {\n                this.track = this.playerService.random();\n            }\n            else {\n                this.track = this.playerService.prev();\n            }\n        }\n        this.reload();\n    };\n    PlayerComponent.prototype.next = function () {\n        if (!this.player.loop) {\n            if (this.shuffle) {\n                this.track = this.playerService.random();\n            }\n            else {\n                this.track = this.playerService.next();\n            }\n        }\n        this.reload();\n    };\n    PlayerComponent.prototype.playPause = function () {\n        if (this.player.paused) {\n            this.player.play();\n        }\n        else {\n            this.player.pause();\n        }\n    };\n    PlayerComponent.prototype.toggleShuffle = function () {\n        this.shuffle = !this.shuffle;\n    };\n    PlayerComponent.prototype.toggleLoop = function () {\n        this.player.loop = !this.player.loop;\n    };\n    PlayerComponent.prototype.setVolume = function (volume) {\n        this.player.volume = volume / 100;\n    };\n    PlayerComponent.prototype.getVolume = function () {\n        return this.player.volume * 100;\n    };\n    PlayerComponent.prototype.setProgress = function (duration) {\n        this.player.currentTime = this.player.duration * duration / 100;\n    };\n    PlayerComponent.prototype.getProgress = function () {\n        return this.player.currentTime / this.player.duration * 100 || 0;\n    };\n    PlayerComponent.prototype.createPlayer = function () {\n        var _this = this;\n        this.player = new Audio();\n        this.player.onended = function () { return _this.next(); };\n        this.setTrack();\n    };\n    PlayerComponent.prototype.reload = function () {\n        this.setTrack();\n        this.player.play();\n    };\n    PlayerComponent.prototype.setTrack = function () {\n        this.player.src = this.track.url;\n        this.player.load();\n    };\n    var _a;\n    tslib_1.__decorate([\n        core_1.Input(),\n        core_1.HostBinding('class.collapsed'),\n        tslib_1.__metadata(\"design:type\", Boolean)\n    ], PlayerComponent.prototype, \"collapsed\", void 0);\n    PlayerComponent = tslib_1.__decorate([\n        core_1.Component({\n            selector: 'ngx-player',\n            styleUrls: ['./player.component.scss'],\n            templateUrl: './player.component.html'\n        }),\n        tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof player_service_1.PlayerService !== \"undefined\" && player_service_1.PlayerService) === \"function\" ? _a : Object])\n    ], PlayerComponent);\n    return PlayerComponent;\n}());\nexports.PlayerComponent = PlayerComponent;\n",{"version":3,"file":"/home/hungnn/Documents/angular/dashboard/src/main/webapp/app/ngx-admin/pages/dashboard/rooms/player/player.component.ts","sourceRoot":"","sources":["/home/hungnn/Documents/angular/dashboard/node_modules/angular-router-loader/src/index.js!/home/hungnn/Documents/angular/dashboard/node_modules/tslint-loader/index.js!/home/hungnn/Documents/angular/dashboard/src/main/webapp/app/ngx-admin/pages/dashboard/rooms/player/player.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, HostBinding, Input, OnDestroy } from '@angular/core';\nimport { PlayerService, Track } from '../../../../@core/data/player.service';\n\n@Component({\n    selector: 'ngx-player',\n    styleUrls: ['./player.component.scss'],\n    templateUrl: './player.component.html'\n})\nexport class PlayerComponent implements OnDestroy {\n    @Input()\n    @HostBinding('class.collapsed')\n    collapsed: boolean;\n\n    track: Track;\n    player: HTMLAudioElement;\n    shuffle: boolean;\n\n    constructor(private playerService: PlayerService) {\n        this.track = this.playerService.random();\n        this.createPlayer();\n    }\n\n    ngOnDestroy() {\n        this.player.pause();\n        this.player.src = '';\n        this.player.load();\n    }\n\n    prev() {\n        if (!this.player.loop) {\n            if (this.shuffle) {\n                this.track = this.playerService.random();\n            } else {\n                this.track = this.playerService.prev();\n            }\n        }\n\n        this.reload();\n    }\n\n    next() {\n        if (!this.player.loop) {\n            if (this.shuffle) {\n                this.track = this.playerService.random();\n            } else {\n                this.track = this.playerService.next();\n            }\n        }\n\n        this.reload();\n    }\n\n    playPause() {\n        if (this.player.paused) {\n            this.player.play();\n        } else {\n            this.player.pause();\n        }\n    }\n\n    toggleShuffle() {\n        this.shuffle = !this.shuffle;\n    }\n\n    toggleLoop() {\n        this.player.loop = !this.player.loop;\n    }\n\n    setVolume(volume: number) {\n        this.player.volume = volume / 100;\n    }\n\n    getVolume(): number {\n        return this.player.volume * 100;\n    }\n\n    setProgress(duration: number) {\n        this.player.currentTime = this.player.duration * duration / 100;\n    }\n\n    getProgress(): number {\n        return this.player.currentTime / this.player.duration * 100 || 0;\n    }\n\n    private createPlayer() {\n        this.player = new Audio();\n        this.player.onended = () => this.next();\n        this.setTrack();\n    }\n\n    private reload() {\n        this.setTrack();\n        this.player.play();\n    }\n\n    private setTrack() {\n        this.player.src = this.track.url;\n        this.player.load();\n    }\n}\n"]}]}