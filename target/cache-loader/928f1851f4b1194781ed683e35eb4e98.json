{"remainingRequest":"/home/hungnn/Documents/angular/dashboard/node_modules/thread-loader/dist/cjs.js??ref--10-2!/home/hungnn/Documents/angular/dashboard/node_modules/ts-loader/index.js??ref--10-3!/home/hungnn/Documents/angular/dashboard/node_modules/angular-router-loader/src/index.js!/home/hungnn/Documents/angular/dashboard/node_modules/tslint-loader/index.js!/home/hungnn/Documents/angular/dashboard/src/main/webapp/app/ngx-admin/pages/e-commerce/charts-panel/charts-panel.component.ts","dependencies":[{"path":"/home/hungnn/Documents/angular/dashboard/src/main/webapp/app/ngx-admin/pages/e-commerce/charts-panel/charts-panel.component.ts","mtime":1593660862952},{"path":"/home/hungnn/Documents/angular/dashboard/node_modules/angular2-template-loader/index.js","mtime":1486570058000},{"path":"/home/hungnn/Documents/angular/dashboard/node_modules/cache-loader/dist/cjs.js","mtime":1593666990470},{"path":"/home/hungnn/Documents/angular/dashboard/node_modules/thread-loader/dist/cjs.js","mtime":1593666988914},{"path":"/home/hungnn/Documents/angular/dashboard/node_modules/ts-loader/index.js","mtime":1519365772000},{"path":"/home/hungnn/Documents/angular/dashboard/node_modules/angular-router-loader/src/index.js","mtime":1512749902000},{"path":"/home/hungnn/Documents/angular/dashboard/node_modules/tslint-loader/index.js","mtime":1519899048000}],"contextDependencies":[],"result":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar core_1 = require(\"@angular/core\");\nvar operators_1 = require(\"rxjs/operators\");\nvar orders_chart_component_1 = require(\"./charts/orders-chart.component\");\nvar profit_chart_component_1 = require(\"./charts/profit-chart.component\");\nvar orders_profit_chart_service_1 = require(\"../../../@core/data/orders-profit-chart.service\");\nvar ECommerceChartsPanelComponent = /** @class */ (function () {\n    function ECommerceChartsPanelComponent(ordersProfitChartService) {\n        var _this = this;\n        this.ordersProfitChartService = ordersProfitChartService;\n        this.alive = true;\n        this.period = 'week';\n        this.ordersProfitChartService\n            .getOrderProfitChartSummary()\n            .pipe(operators_1.takeWhile(function () { return _this.alive; }))\n            .subscribe(function (summary) {\n            _this.chartPanelSummary = summary;\n        });\n        this.getOrdersChartData(this.period);\n        this.getProfitChartData(this.period);\n    }\n    ECommerceChartsPanelComponent.prototype.setPeriodAndGetChartData = function (value) {\n        if (this.period !== value) {\n            this.period = value;\n        }\n        this.getOrdersChartData(value);\n        this.getProfitChartData(value);\n    };\n    ECommerceChartsPanelComponent.prototype.changeTab = function (selectedTab) {\n        if (selectedTab.tabTitle === 'Profit') {\n            this.profitChart.resizeChart();\n        }\n        else {\n            this.ordersChart.resizeChart();\n        }\n    };\n    ECommerceChartsPanelComponent.prototype.getOrdersChartData = function (period) {\n        var _this = this;\n        this.ordersProfitChartService\n            .getOrdersChartData(period)\n            .pipe(operators_1.takeWhile(function () { return _this.alive; }))\n            .subscribe(function (ordersChartData) {\n            _this.ordersChartData = ordersChartData;\n        });\n    };\n    ECommerceChartsPanelComponent.prototype.getProfitChartData = function (period) {\n        var _this = this;\n        this.ordersProfitChartService\n            .getProfitChartData(period)\n            .pipe(operators_1.takeWhile(function () { return _this.alive; }))\n            .subscribe(function (profitChartData) {\n            _this.profitChartData = profitChartData;\n        });\n    };\n    ECommerceChartsPanelComponent.prototype.ngOnDestroy = function () {\n        this.alive = false;\n    };\n    var _a, _b, _c;\n    tslib_1.__decorate([\n        core_1.ViewChild('ordersChart'),\n        tslib_1.__metadata(\"design:type\", typeof (_a = typeof orders_chart_component_1.OrdersChartComponent !== \"undefined\" && orders_chart_component_1.OrdersChartComponent) === \"function\" ? _a : Object)\n    ], ECommerceChartsPanelComponent.prototype, \"ordersChart\", void 0);\n    tslib_1.__decorate([\n        core_1.ViewChild('profitChart'),\n        tslib_1.__metadata(\"design:type\", typeof (_b = typeof profit_chart_component_1.ProfitChartComponent !== \"undefined\" && profit_chart_component_1.ProfitChartComponent) === \"function\" ? _b : Object)\n    ], ECommerceChartsPanelComponent.prototype, \"profitChart\", void 0);\n    ECommerceChartsPanelComponent = tslib_1.__decorate([\n        core_1.Component({\n            selector: 'ngx-ecommerce-charts',\n            styleUrls: ['./charts-panel.component.scss'],\n            templateUrl: './charts-panel.component.html'\n        }),\n        tslib_1.__metadata(\"design:paramtypes\", [typeof (_c = typeof orders_profit_chart_service_1.OrdersProfitChartService !== \"undefined\" && orders_profit_chart_service_1.OrdersProfitChartService) === \"function\" ? _c : Object])\n    ], ECommerceChartsPanelComponent);\n    return ECommerceChartsPanelComponent;\n}());\nexports.ECommerceChartsPanelComponent = ECommerceChartsPanelComponent;\n",{"version":3,"file":"/home/hungnn/Documents/angular/dashboard/src/main/webapp/app/ngx-admin/pages/e-commerce/charts-panel/charts-panel.component.ts","sourceRoot":"","sources":["/home/hungnn/Documents/angular/dashboard/node_modules/angular-router-loader/src/index.js!/home/hungnn/Documents/angular/dashboard/node_modules/tslint-loader/index.js!/home/hungnn/Documents/angular/dashboard/src/main/webapp/app/ngx-admin/pages/e-commerce/charts-panel/charts-panel.component.ts"],"names":[],"mappings":";;;AAAA,sCAAgE;AAChE,4CAA2C;AAE3C,0EAAuE;AACvE,0EAAuE;AAGvE,+FAAoH;AAOpH;IAWI,uCAAoB,wBAAkD;QAAtE,iBAUC;QAVmB,6BAAwB,GAAxB,wBAAwB,CAA0B;QAV9D,UAAK,GAAG,IAAI,CAAC;QAGrB,WAAM,GAAW,MAAM,CAAC;QAQpB,IAAI,CAAC,wBAAwB;aACxB,0BAA0B,EAAE;aAC5B,IAAI,CAAC,qBAAS,CAAC,cAAM,OAAA,KAAI,CAAC,KAAK,EAAV,CAAU,CAAC,CAAC;aACjC,SAAS,CAAC,UAAA,OAAO;YACd,KAAI,CAAC,iBAAiB,GAAG,OAAO,CAAC;QACrC,CAAC,CAAC,CAAC;QAEP,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACrC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACzC,CAAC;IAED,gEAAwB,GAAxB,UAAyB,KAAa;QAClC,IAAI,IAAI,CAAC,MAAM,KAAK,KAAK,EAAE;YACvB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;SACvB;QAED,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;QAC/B,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;IACnC,CAAC;IAED,iDAAS,GAAT,UAAU,WAAW;QACjB,IAAI,WAAW,CAAC,QAAQ,KAAK,QAAQ,EAAE;YACnC,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;SAClC;aAAM;YACH,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;SAClC;IACL,CAAC;IAED,0DAAkB,GAAlB,UAAmB,MAAc;QAAjC,iBAOC;QANG,IAAI,CAAC,wBAAwB;aACxB,kBAAkB,CAAC,MAAM,CAAC;aAC1B,IAAI,CAAC,qBAAS,CAAC,cAAM,OAAA,KAAI,CAAC,KAAK,EAAV,CAAU,CAAC,CAAC;aACjC,SAAS,CAAC,UAAA,eAAe;YACtB,KAAI,CAAC,eAAe,GAAG,eAAe,CAAC;QAC3C,CAAC,CAAC,CAAC;IACX,CAAC;IAED,0DAAkB,GAAlB,UAAmB,MAAc;QAAjC,iBAOC;QANG,IAAI,CAAC,wBAAwB;aACxB,kBAAkB,CAAC,MAAM,CAAC;aAC1B,IAAI,CAAC,qBAAS,CAAC,cAAM,OAAA,KAAI,CAAC,KAAK,EAAV,CAAU,CAAC,CAAC;aACjC,SAAS,CAAC,UAAA,eAAe;YACtB,KAAI,CAAC,eAAe,GAAG,eAAe,CAAC;QAC3C,CAAC,CAAC,CAAC;IACX,CAAC;IAED,mDAAW,GAAX;QACI,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACvB,CAAC;;IApDyB;QAAzB,gBAAS,CAAC,aAAa,CAAC;8DAAc,6CAAoB,oBAApB,6CAAoB;sEAAC;IAClC;QAAzB,gBAAS,CAAC,aAAa,CAAC;8DAAc,6CAAoB,oBAApB,6CAAoB;sEAAC;IATnD,6BAA6B;QALzC,gBAAS,CAAC;YACP,QAAQ,EAAE,sBAAsB;YAChC,SAAS,EAAE,CAAC,+BAA+B,CAAC;YAC5C,WAAW,EAAE,+BAA+B;SAC/C,CAAC;qEAYgD,sDAAwB,oBAAxB,sDAAwB;OAX7D,6BAA6B,CA6DzC;IAAD,oCAAC;CAAA,AA7DD,IA6DC;AA7DY,sEAA6B","sourcesContent":["import { Component, OnDestroy, ViewChild } from '@angular/core';\nimport { takeWhile } from 'rxjs/operators';\n\nimport { OrdersChartComponent } from './charts/orders-chart.component';\nimport { ProfitChartComponent } from './charts/profit-chart.component';\nimport { OrdersChart } from '../../../@core/data/orders-chart.service';\nimport { ProfitChart } from '../../../@core/data/profit-chart.service';\nimport { OrdersProfitChartService, OrderProfitChartSummary } from '../../../@core/data/orders-profit-chart.service';\n\n@Component({\n    selector: 'ngx-ecommerce-charts',\n    styleUrls: ['./charts-panel.component.scss'],\n    templateUrl: './charts-panel.component.html'\n})\nexport class ECommerceChartsPanelComponent implements OnDestroy {\n    private alive = true;\n\n    chartPanelSummary: OrderProfitChartSummary[];\n    period: string = 'week';\n    ordersChartData: OrdersChart;\n    profitChartData: ProfitChart;\n\n    @ViewChild('ordersChart') ordersChart: OrdersChartComponent;\n    @ViewChild('profitChart') profitChart: ProfitChartComponent;\n\n    constructor(private ordersProfitChartService: OrdersProfitChartService) {\n        this.ordersProfitChartService\n            .getOrderProfitChartSummary()\n            .pipe(takeWhile(() => this.alive))\n            .subscribe(summary => {\n                this.chartPanelSummary = summary;\n            });\n\n        this.getOrdersChartData(this.period);\n        this.getProfitChartData(this.period);\n    }\n\n    setPeriodAndGetChartData(value: string): void {\n        if (this.period !== value) {\n            this.period = value;\n        }\n\n        this.getOrdersChartData(value);\n        this.getProfitChartData(value);\n    }\n\n    changeTab(selectedTab) {\n        if (selectedTab.tabTitle === 'Profit') {\n            this.profitChart.resizeChart();\n        } else {\n            this.ordersChart.resizeChart();\n        }\n    }\n\n    getOrdersChartData(period: string) {\n        this.ordersProfitChartService\n            .getOrdersChartData(period)\n            .pipe(takeWhile(() => this.alive))\n            .subscribe(ordersChartData => {\n                this.ordersChartData = ordersChartData;\n            });\n    }\n\n    getProfitChartData(period: string) {\n        this.ordersProfitChartService\n            .getProfitChartData(period)\n            .pipe(takeWhile(() => this.alive))\n            .subscribe(profitChartData => {\n                this.profitChartData = profitChartData;\n            });\n    }\n\n    ngOnDestroy() {\n        this.alive = false;\n    }\n}\n"]}]}